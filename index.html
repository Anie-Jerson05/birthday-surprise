<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playwrite+NZ+Basic:wght@100..400&display=swap" rel="stylesheet">
<title>Open Pane Paru ErumağŸ˜‚ğŸ‚</title>
<style>
body {
    margin: 0;
    background: radial-gradient(circle at top, #1a001f, #000000);
    text-align: center;
    font-family: "Playwrite NZ Basic", cursive;
    color: white;
}

h1 {
    margin-top: 40px;
}

.gift-box {
    width: 120px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    cursor: pointer;
    transition: 0.3s;
}


.hidden { display: none; }

.cake {
    width: 180px;
    margin-top: 10px;
}

#surprise {
    position: relative;
    z-index: 2;
}

.message {
    font-size: 22px;
    margin-top: 20px;
    min-height: 60px;
}

button {
    padding: 12px 25px;
    font-size: 18px;
    background: #ff4da6;
    border: none;
    border-radius: 25px;
    color: white;
    cursor: pointer;
    margin-top: 20px;
    transition: 0.3s;
}

button:hover {
    background: #ff1a8c;
}

.slideshow {
    width: 80%;
    max-width: 250px;
    aspect-ratio: 1 / 1;
    margin: 20px auto;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 20px #ff4da6;
}


.slideshow img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.slideshow video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


canvas {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
}
</style>
</head>
<body>

<h1> Happy Birthday Chella Mova â¤ï¸ğŸ€</h1>

<img src="istockphoto-897181182-612x612-removebg-preview.png"
     class="gift-box"
     id="gift">

<div id="surprise" class="hidden">

    <img src="download-removebg-preview.png" class="cake">

<div class="slideshow">
     <img id="slideImage">
    <video id="slideVideo" class="hidden" muted></video>
</div>


    <div class="message" id="typedText"></div>

    <button onclick="proposal()">Umma vanuma ğŸ’‹ğŸ˜‚?</button>
</div>

<canvas id="confetti"></canvas>

<audio id="music" src="elliot-james-reay-i-think-they-call-this-love-karaoke-version_8wJaD0Tl.mp3"></audio>

<script>
const gift = document.getElementById("gift");
let escapeCount = 0;

document.addEventListener("mousemove", function(e) {
    const rect = gift.getBoundingClientRect();
    const distance = Math.hypot(
        e.clientX - (rect.left + rect.width/2),
        e.clientY - (rect.top + rect.height/2)
    );

    if (distance < 100 && escapeCount < 6) {
        const x = Math.random() * (window.innerWidth - 120);
        const y = Math.random() * (window.innerHeight - 120);
        gift.style.left = x + "px";
        gift.style.top = y + "px";
        escapeCount++;
    }
});

gift.addEventListener("click", function() {
    if (escapeCount >= 6) {
        openGift();
    }
});

function openGift() {
    gift.style.display = "none";
    document.getElementById("surprise").classList.remove("hidden");
    document.getElementById("music").play();
    startConfetti();
    startTyping();

    const img = document.getElementById("slideImage");
    const video = document.getElementById("slideVideo");

    // Show first image instantly
    img.classList.remove("hidden");
    video.classList.add("hidden");
    img.src = slides[0].src;

    slideIndex = 0;   // Start from first
    startSlideshow();
}


/* Typing Animation */

const message = "You are the most beautiful part of my life â¤ï¸ I thank God every day for you ğŸ’• Happy Birthday Princess ğŸ‘‘";
let index = 0;

function startTyping() {
    const typedText = document.getElementById("typedText");
    function type() {
        if (index < message.length) {
            typedText.innerHTML += message.charAt(index);
            index++;
            setTimeout(type, 50);
        }
    }
    type();
}

/* Slideshow */

const slides = [
    { type: "image", src: "img/kutty pattu.jpeg" },
    { type: "video", src: "img/video6.mp4" },
    { type: "image", src: "img/image.jpeg" },
    { type: "video", src: "img/video.mp4" },
    { type: "image", src: "img/image1.jpeg" },
    { type: "video", src: "img/video1.mp4" },
    { type: "image", src: "img/image2.jpeg" },
    { type: "video", src: "img/video2.mp4" },
    { type: "image", src: "img/image3.jpeg" },
    { type: "video", src: "img/video3.mp4" },
    { type: "image", src: "img/image4.jpeg" },
    { type: "video", src: "img/video4.mp4" },
    { type: "image", src: "img/image5.jpeg" }
];


let slideIndex = 0;

function startSlideshow() {
    const img = document.getElementById("slideImage");
    const video = document.getElementById("slideVideo");

    setInterval(() => {

        slideIndex++;
        if (slideIndex >= slides.length) {
            slideIndex = 0;
        }

        const current = slides[slideIndex];

        if (current.type === "image") {
            video.pause();
            video.classList.add("hidden");
            img.classList.remove("hidden");
            img.src = current.src;
        } else {
            img.classList.add("hidden");
            video.classList.remove("hidden");
            video.src = current.src;
            video.play();
        }

    }, 3000);
}


/* Proposal Button */

function proposal() {
    alert("Umma ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹");
}

/* Confetti */

const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}

resizeCanvas();
window.addEventListener("resize", resizeCanvas);


let confetti = [];

function startConfetti() {
    for (let i = 0; i < 250; i++) {
        confetti.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            r: Math.random() * 6 + 2,
            color: "hsl(" + Math.random() * 360 + ",100%,50%)"
        });
    }
    draw();
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    confetti.forEach(c => {
        ctx.beginPath();
        ctx.fillStyle = c.color;
        ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
        ctx.fill();
        c.y += 3;
        if (c.y > canvas.height) c.y = -10;
    });
    requestAnimationFrame(draw);
}
</script>

</body>
</html>

